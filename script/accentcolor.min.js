/* accentColor 1.0.1 script by Joel Besada (http://www.joelb.me). MIT Licensed */
(function(){function s(c,a,d,e){if(c){var b=new XMLHttpRequest;t&&a?(c=c.replace(/https?:\/\//g,""),b.open("GET",a+"?url="+escape(c),!0),b.responseType="text"):(-1===c.indexOf("http")&&(c="http://"+c),b.open("GET","http://g.etfv.co/"+escape(c)+"?defaulticon=none",!0),b.responseType="arraybuffer");b.onreadystatechange=function(){if(4===b.readyState)if(200===b.status){var a,n,j,q,p=new Image;if("arraybuffer"===b.responseType){var k=b.response;k&&(a=new Uint8Array(k),a=u(a))}else a=b.responseText;p.onload=
function(){n=document.createElement("canvas");n.width=n.height=l;j=n.getContext("2d");j.drawImage(p,0,0,l,l);for(var a=j.getImageData(0,0,l,l).data,b,o,g,f,h={},k,i=0;i<a.length;i+=4)if(b=a[i],o=a[i+1],g=a[i+2],f=a[i+3],!(127>f))if(propStr=b+","+o+","+g,h[propStr])h[propStr]++;else{a:{b=h;o=propStr;g=void 0;for(g in b){if(f=b.hasOwnProperty(g)){var m=o;f=g.split(",");m=m.split(",");f=10>(Math.abs(f[0]-m[0])+Math.abs(f[1]-m[1])+Math.abs(f[2]-m[2]))/3}if(f){b=g;break a}}b=null}(k=b)?h[k]++:h[propStr]=
1}(a=r(h))||(a=r(h,!0));(q=a?"rgb("+a+")":null)?d(q):e("No accent color found for "+c)};a?p.src=v+a:e("No response from "+c)}else 204===b.status?e("No response from "+c):e("Service Unavailable")};b.send(null)}else e("Missing URL parameter")}function u(c){var a,d,e="";for(a=0,d=c.length;a<d;a++)e+=String.fromCharCode(c[a]);return btoa(e)}function w(c,a,d){var c=parseInt(c,10),a=parseInt(a,10),d=parseInt(d,10),e=(c+a+d)/3;return 15>Math.abs(c-e)&&15>Math.abs(a-e)&&15>Math.abs(d-e)}function r(c,a){var d=
0,e,b;for(b in c)if(c.hasOwnProperty(b)&&c[b]>d&&(!w.apply(null,b.split(","))||a))d=c[b],e=b;return e}var j={url:null,proxy:null,onComplete:function(){},onError:function(){}},l=16,v="data:image/png;base64,",t=!window.ArrayBuffer||!window.Uint8Array||void 0===(new XMLHttpRequest).withCredentials,x=!!document.createElement("canvas").getContext;window.getAccentColor=function(c){if(x){var a={},d;for(d in j)j.hasOwnProperty(d)&&(a[d]=c[d]||j[d]);s(a.url,a.proxy,a.onComplete,a.onError)}}})();